{
  "name": "CHERI Control Development (GPU - Local Build)",
  "initializeCommand": "sh -lc 'bash .devcontainer/host-init.sh || true'",
  
  "build": {
    "dockerfile": "Dockerfile",
    "args": {
      "MUJOCO_VERSION": "3.3.7" // MuJoCo version to use
    }
  },
  
  "runArgs": [
    "--network=host",
    "--device=/dev/dri",
    "--ipc=host",
    "--gpus=all",
    "--runtime=nvidia",
    "--cap-add=SYS_PTRACE",
    "--security-opt=seccomp=unconfined"
  ],
  
  "mounts": [
    "source=/tmp/.X11-unix,target=/tmp/.X11-unix,type=bind",
  ],
  
  "containerEnv": {
    "DISPLAY": "${localEnv:DISPLAY}",
    "RTROBOT_DIR": "${containerWorkspaceFolder}/rtrobot",
  },
  
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
  
  
  "remoteUser": "cheri"
}


